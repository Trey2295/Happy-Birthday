<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Birthdates and Ages</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        h1 {
            color: #2c3e50;
        }
        table {
            width: 70%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        table, th, td {
            border: 1px solid #ddd;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        .upcoming {
            background-color: #ffeb3b; /* Highlight color for the next upcoming birthday */
        }
    </style>
    <script>
        function calculateAge(birthdate) {
            const today = new Date();
            const birthDate = new Date(birthdate);
            let age = today.getFullYear() - birthDate.getFullYear();
            const monthDifference = today.getMonth() - birthDate.getMonth();
            if (monthDifference < 0 || (monthDifference === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            return age;
        }

        function calculateNextAge(birthdate) {
            const today = new Date();
            const birthDate = new Date(birthdate);
            const currentAge = calculateAge(birthdate);
            const monthDifference = today.getMonth() - birthDate.getMonth();
            const isUpcoming = monthDifference < 0 || (monthDifference === 0 && today.getDate() < birthDate.getDate());
            return isUpcoming ? currentAge + 1 : currentAge + 1;
        }

        function getNextBirthday(birthdates) {
            const today = new Date();
            let closest = null;
            let closestDate = null;
            for (let birthdate of birthdates) {
                const bdayThisYear = new Date(today.getFullYear(), new Date(birthdate.date).getMonth(), new Date(birthdate.date).getDate());
                const bdayNextYear = new Date(today.getFullYear() + 1, new Date(birthdate.date).getMonth(), new Date(birthdate.date).getDate());

                const diffThisYear = bdayThisYear - today;
                const diffNextYear = bdayNextYear - today;

                const diff = diffThisYear >= 0 ? diffThisYear : diffNextYear;

                if (closest === null || diff < closest) {
                    closest = diff;
                    closestDate = birthdate;
                }
            }
            return closestDate.name;
        }

        document.addEventListener('DOMContentLoaded', function() {
            const birthdates = [
                { name: 'Cody', date: '2022-09-19' },
                { name: 'Enzo', date: '2014-09-04' },
                { name: 'Ginny', date: '1945-08-29' },
                { name: 'Jordan', date: '1982-07-30' },
                { name: 'Daphne', date: '2016-04-20' },
                { name: 'Leon', date: '2020-02-19' },
                { name: 'Miran', date: '1938-03-04' },
                { name: 'Vada', date: '2012-10-29' },
                { name: 'Renea', date: '2017-11-03' },
                { name: 'Wife', date: '1983-12-02' },
                { name: 'Rozy', date: '1981-12-16' },
                { name: 'Tammy', date: '1956-12-23' },
                { name: 'Mom', date: '1956-10-06' },
                { name: 'Dad', date: '1953-10-18' },
                { name: 'Brother', date: '1988-03-15' }
            ];

            const nextBirthdayName = getNextBirthday(birthdates);

            // Highlight the row for the next birthday
            document.querySelectorAll('tr').forEach(row => {
                if (row.textContent.includes(nextBirthdayName)) {
                    row.classList.add('upcoming');
                }
            });
        });
    </script>
</head>
<body>
    <h1>My Family Members</h1>
    <table>
        <tr>
            <th>Name</th>
            <th>Birthdate</th>
            <th>Current Age</th>
            <th>Next Age</th>
        </tr>
        <tr>
            <td>Leon</td>
            <td>February 19, 2020</td>
            <td><script>document.write(calculateAge('2020-02-19'));</script></td>
            <td><script>document.write(calculateNextAge('2020-02-19'));</script></td>
        </tr>
        <tr>
            <td>Miran</td>
            <td>March 4, 1938</td>
            <td><script>document.write(calculateAge('1938-03-04'));</script></td>
            <td><script>document.write(calculateNextAge('1938-03-04'));</script></td>
        </tr>
        <tr>
            <td>Daphne</td>
            <td>April 20, 2016</td>
            <td><script>document.write(calculateAge('2016-04-20'));</script></td>
            <td><script>document.write(calculateNextAge('2016-04-20'));</script></td>
        </tr>
        <tr>
            <td>Brother</td>
            <td>March 15, 1988</td>
            <td><script>document.write(calculateAge('1988-03-15'));</script></td>
            <td><script>document.write(calculateNextAge('1988-03-15'));</script></td>
        </tr>
        <tr>
            <td>Jordan</td>
            <td>July 30, 1982</td>
            <td><script>document.write(calculateAge('1982-07-30'));</script></td>
            <td><script>document.write(calculateNextAge('1982-07-30'));</script></td>
        </tr>
        <tr>
            <td>Ginny</td>
            <td>August 29, 1945</td>
            <td><script>document.write(calculateAge('1945-08-29'));</script></td>
            <td><script>document.write(calculateNextAge('1945-08-29'));</script></td>
        </tr>
        <tr>
            <td>Enzo</td>
            <td>September 4, 2014</td>
            <td><script>document.write(calculateAge('2014-09-04'));</script></td>
            <td><script>document.write(calculateNextAge('2014-09-04'));</script></td>
        </tr>
        <tr>
            <td>Cody</td>
            <td>September 19, 2022</td>
            <td><script>document.write(calculateAge('2022-09-19'));</script></td>
            <td><script>document.write(calculateNextAge('2022-09-19'));</script></td>
        </tr>
        <tr>
            <td>Vada</td>
            <td>October 29, 2012</td>
            <td><script>document.write(calculateAge('2012-10-29'));</script></td>
            <td><script>document.write(calculateNextAge('2012-10-29'));</script></td>
        </tr>
        <tr>
            <td>Mom</td>
            <td>October 6, 1956</td>
            <td><script>document.write(calculateAge('1956-10-06'));</script></td>
            <td><script>document.write(calculateNextAge('1956-10-06'));</script></td>
        </tr>
        <tr>
            <td>Dad</td>
            <td>October 18, 1953</td>
            <td><script>document.write(calculateAge('1953-10-18'));</script></td>
            <td><script>document.write(calculateNextAge('1953-10-18'));</script></td>
        </tr>
        <tr>
            <td>Renea</td>
            <td>November 3, 2017</td>
            <td><script>document.write(calculateAge('2017-11-03'));</script></td>
            <td><script>document.write(calculateNextAge('2017-11-03'));</script></td>
        </tr>
        <tr>
            <td>Wife</td>
            <td>December 2, 1983</td>
            <td><script>document.write(calculateAge('1983-12-02'));</script></td>
            <td><script>document.write(calculateNextAge('1983-12-02'));</script></td>
        </tr>
        <tr>
            <td>Rozy</td>
            <td>December 16, 1981</td>
            <td><script>document.write(calculateAge('1981-12-16'));</script></td>
            <td><script>document.write(calculateNextAge('1981-12-16'));</script></td>
        </tr>
        <tr>
            <td>Tammy</td>
            <td>December 23, 1956</td>
            <td><script>document.write(calculateAge('1956-12-23'));</script></td>
            <td><script>document.write(calculateNextAge('1956-12-23'));</script></td>
        </tr>
    </table>
</body>
</html>
